<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CG × Citi — Timesheet Tracker</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="/static/styles.css" rel="stylesheet" />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark bg-body-tertiary border-bottom border-slate-700"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="/">CG × Citi Timesheets</a>
        <div class="d-flex gap-2 ms-auto">
          <a class="btn btn-sm btn-outline-info btn-pill" href="/billing"
            >Billing</a
          >
          <a class="btn btn-sm btn-outline-success btn-pill" href="/chatbot"
            >Chatbot</a
          >
          <a class="btn btn-sm btn-outline-secondary btn-pill" href="/admin"
            >Admin</a
          >
        </div>
      </div>
    </nav>
    <main class="container py-4">
      <div class="row g-3 align-items-end">
        <div class="col-md-3">
          <label class="form-label">Select Month</label>
          <input type="month" class="form-control" id="month" />
        </div>
        <div class="col-md-5">
          <label class="form-label"
            >Upload Workbook (CG, CITI, CG_DAILY, CITI_DAILY)</label
          >
          <div class="input-group">
            <input
              type="file"
              class="form-control"
              id="fileInput"
              accept=".xlsx,.xls"
            />
            <button class="btn btn-outline-secondary btn-pill" id="uploadBtn">
              Upload
            </button>
            <button class="btn btn-outline-info btn-pill" id="useSampleBtn">
              Use Sample
            </button>
          </div>
        </div>
        <div class="col-md-4 text-md-end">
          <button class="btn btn-primary btn-pill me-2" id="loadBtn">
            Load Report
          </button>
          <button class="btn btn-warning btn-pill" id="notifyBtn">
            Send Reminder
          </button>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col">
          <small id="status" class="text-secondary"></small>
        </div>
      </div>
      <div class="row g-3 mt-3">
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <div class="text-secondary small">Total Resources</div>
              <div class="display-6 fw-bold" id="totalCount">0</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <div class="text-success small">Completed</div>
              <div
                class="display-6 fw-bold text-success"
                id="completedCount"
              >
                0
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <div class="text-warning small">Partial</div>
              <div class="display-6 fw-bold text-warning" id="partialCount">
                0
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <div class="text-danger small">Mismatch / Not Completed</div>
              <div class="display-6 fw-bold text-danger" id="otherCount">0</div>
            </div>
          </div>
        </div>
      </div>
      <div class="card mt-3">
        <div class="card-header">Monthly Reconciliation</div>
        <div class="table-responsive">
          <table
            class="table table-hover align-middle mb-0"
            id="reportTable"
          >
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Project</th>
                <th>Total Hrs</th>
                <th>CG Submitted</th>
                <th>CITI Submitted</th>
                <th>Submitted On</th>
                <th>CG Status</th>
                <th>CITI Status</th>
                <th>Reconciled</th>
                <th>Reminders</th>
                <th></th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
      <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="appToast" class="toast text-bg-dark border-0">
          <div class="d-flex">
            <div class="toast-body" id="toastBody">Action complete</div>
            <button
              type="button"
              class="btn-close btn-close-white me-2 m-auto"
              data-bs-dismiss="toast"
            ></button>
          </div>
        </div>
      </div>
    </main>
    <div class="modal fade" id="dailyModal" tabindex="-1">
      <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="dailyTitle">Daily Timesheets</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="table-responsive">
              <table
                class="table table-sm table-striped"
                id="dailyTable"
              >
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>CG Hours</th>
                    <th>CITI Hours</th>
                    <th>Δ</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer">
            <button
              class="btn btn-secondary btn-pill"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    ></script>
    <script src="/static/timesheets.js"></script>
  </body>
</html>